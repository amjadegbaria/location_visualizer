{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { toSVG } from 'transformation-matrix'; //events\n\nimport eventFactory from './events/event-factory'; //features\n\nimport { pan as _pan } from './features/pan';\nimport { getDefaultValue, isValueValid, reset as _reset, setPointOnViewerCenter as _setPointOnViewerCenter, setSVGViewBox, setViewerSize, setZoomLevels } from './features/common';\nimport { onDoubleClick as _onDoubleClick, onInterval, onMouseDown as _onMouseDown, onMouseEnterOrLeave, onMouseMove as _onMouseMove, onMouseUp as _onMouseUp, onWheel as _onWheel } from './features/interactions';\nimport parseViewBox from './utils/parseViewBox';\nimport { onTouchCancel as _onTouchCancel, onTouchEnd as _onTouchEnd, onTouchMove as _onTouchMove, onTouchStart as _onTouchStart } from './features/interactions-touch';\nimport { fitSelection as _fitSelection, fitToViewer as _fitToViewer, zoom as _zoom, zoomOnViewerCenter as _zoomOnViewerCenter } from './features/zoom';\nimport { closeMiniature as _closeMiniature, openMiniature as _openMiniature } from './features/miniature'; //ui\n\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature';\nimport { ACTION_PAN, ACTION_ZOOM, ALIGN_BOTTOM, ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, MODE_IDLE, MODE_PANNING, MODE_ZOOMING, POSITION_BOTTOM, POSITION_LEFT, POSITION_NONE, POSITION_RIGHT, POSITION_TOP, TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT } from './constants';\nimport { printMigrationTipsRelatedToProps } from \"./migration-tips\";\n\nvar ReactSVGPanZoom = /*#__PURE__*/function (_React$Component) {\n  _inherits(ReactSVGPanZoom, _React$Component);\n\n  function ReactSVGPanZoom(props, context) {\n    var _this;\n\n    _classCallCheck(this, ReactSVGPanZoom);\n\n    var viewerWidth = props.width,\n        viewerHeight = props.height,\n        scaleFactorMin = props.scaleFactorMin,\n        scaleFactorMax = props.scaleFactorMax,\n        children = props.children;\n    var SVGViewBox = children.props.viewBox;\n    var defaultValue;\n\n    if (SVGViewBox) {\n      var _parseViewBox = parseViewBox(SVGViewBox),\n          _parseViewBox2 = _slicedToArray(_parseViewBox, 4),\n          SVGMinX = _parseViewBox2[0],\n          SVGMinY = _parseViewBox2[1],\n          SVGWidth = _parseViewBox2[2],\n          SVGHeight = _parseViewBox2[3];\n\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax);\n    } else {\n      var _children$props = children.props,\n          _SVGWidth = _children$props.width,\n          _SVGHeight = _children$props.height;\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, 0, 0, _SVGWidth, _SVGHeight, scaleFactorMin, scaleFactorMax);\n    }\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactSVGPanZoom).call(this, props, context));\n    _this.ViewerDOM = null;\n    _this.state = {\n      pointerX: null,\n      pointerY: null,\n      defaultValue: defaultValue\n    };\n    _this.autoPanLoop = _this.autoPanLoop.bind(_assertThisInitialized(_this));\n    _this.onWheel = _this.onWheel.bind(_assertThisInitialized(_this));\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props);\n    }\n\n    return _this;\n  }\n  /** React hooks **/\n\n\n  _createClass(ReactSVGPanZoom, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var value = this.getValue();\n      var props = this.props;\n      var nextValue = value;\n      var needUpdate = false;\n\n      if (process.env.NODE_ENV !== 'production') {\n        printMigrationTipsRelatedToProps(props);\n      } // This block checks the size of the SVG\n\n\n      var SVGViewBox = props.children.props.viewBox;\n\n      if (SVGViewBox) {\n        // if the viewBox prop is specified\n        var _parseViewBox3 = parseViewBox(SVGViewBox),\n            _parseViewBox4 = _slicedToArray(_parseViewBox3, 4),\n            x = _parseViewBox4[0],\n            y = _parseViewBox4[1],\n            width = _parseViewBox4[2],\n            height = _parseViewBox4[3];\n\n        if (value.SVGMinX !== x || value.SVGMinY !== y || value.SVGWidth !== width || value.SVGHeight !== height) {\n          nextValue = setSVGViewBox(nextValue, x, y, width, height);\n          needUpdate = true;\n        }\n      } else {\n        // if the width and height props are specified\n        var _props$children$props = props.children.props,\n            SVGWidth = _props$children$props.width,\n            SVGHeight = _props$children$props.height;\n\n        if (value.SVGWidth !== SVGWidth || value.SVGHeight !== SVGHeight) {\n          nextValue = setSVGViewBox(nextValue, 0, 0, SVGWidth, SVGHeight);\n          needUpdate = true;\n        }\n      } // This block checks the size of the viewer\n\n\n      if (prevProps.width !== props.width || prevProps.height !== props.height) {\n        nextValue = setViewerSize(nextValue, props.width, props.height);\n        needUpdate = true;\n      } // This blocks checks the scale factors\n\n\n      if (prevProps.scaleFactorMin !== props.scaleFactorMin || prevProps.scaleFactorMax !== props.scaleFactorMax) {\n        nextValue = setZoomLevels(nextValue, props.scaleFactorMin, props.scaleFactorMax);\n        needUpdate = true;\n      }\n\n      if (needUpdate) {\n        this.setValue(nextValue);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.autoPanIsRunning = true;\n      requestAnimationFrame(this.autoPanLoop);\n      this.ViewerDOM.addEventListener('wheel', this.onWheel, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.autoPanIsRunning = false;\n      this.ViewerDOM.removeEventListener('wheel', this.onWheel);\n    }\n    /** ReactSVGPanZoom handlers **/\n\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      if (isValueValid(this.props.value)) return this.props.value;\n      return this.state.defaultValue;\n    }\n  }, {\n    key: \"getTool\",\n    value: function getTool() {\n      if (this.props.tool) return this.props.tool;\n      return TOOL_NONE;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(nextValue) {\n      var _this$props = this.props,\n          onChangeValue = _this$props.onChangeValue,\n          onZoom = _this$props.onZoom,\n          onPan = _this$props.onPan;\n      if (onChangeValue) onChangeValue(nextValue);\n\n      if (nextValue.lastAction) {\n        if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n        if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n      }\n    }\n    /** ReactSVGPanZoom methods **/\n\n  }, {\n    key: \"pan\",\n    value: function pan(SVGDeltaX, SVGDeltaY) {\n      var nextValue = _pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(SVGPointX, SVGPointY, scaleFactor) {\n      var nextValue = _zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"fitSelection\",\n    value: function fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n      var nextValue = _fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"fitToViewer\",\n    value: function fitToViewer() {\n      var SVGAlignX = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ALIGN_LEFT;\n      var SVGAlignY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ALIGN_TOP;\n\n      var nextValue = _fitToViewer(this.getValue(), SVGAlignX, SVGAlignY);\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"zoomOnViewerCenter\",\n    value: function zoomOnViewerCenter(scaleFactor) {\n      var nextValue = _zoomOnViewerCenter(this.getValue(), scaleFactor);\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"setPointOnViewerCenter\",\n    value: function setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n      var nextValue = _setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var nextValue = _reset(this.getValue());\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"openMiniature\",\n    value: function openMiniature() {\n      var nextValue = _openMiniature(this.getValue());\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"closeMiniature\",\n    value: function closeMiniature() {\n      var nextValue = _closeMiniature(this.getValue());\n\n      this.setValue(nextValue);\n    }\n    /** ReactSVGPanZoom internals **/\n\n  }, {\n    key: \"handleViewerEvent\",\n    value: function handleViewerEvent(event) {\n      var props = this.props,\n          ViewerDOM = this.ViewerDOM;\n      if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n      if (event.target === ViewerDOM) return;\n      var eventsHandler = {\n        click: props.onClick,\n        dblclick: props.onDoubleClick,\n        mousemove: props.onMouseMove,\n        mouseup: props.onMouseUp,\n        mousedown: props.onMouseDown,\n        touchstart: props.onTouchStart,\n        touchmove: props.onTouchMove,\n        touchend: props.onTouchEnd,\n        touchcancel: props.onTouchCancel\n      };\n      var onEventHandler = eventsHandler[event.type];\n      if (!onEventHandler) return;\n      onEventHandler(eventFactory(event, props.value, ViewerDOM));\n    }\n  }, {\n    key: \"autoPanLoop\",\n    value: function autoPanLoop() {\n      var coords = {\n        x: this.state.pointerX,\n        y: this.state.pointerY\n      };\n      var nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n\n      if (this.getValue() !== nextValue) {\n        this.setValue(nextValue);\n      }\n\n      if (this.autoPanIsRunning) {\n        requestAnimationFrame(this.autoPanLoop);\n      }\n    }\n  }, {\n    key: \"onWheel\",\n    value: function onWheel(event) {\n      var nextValue = _onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n\n      if (this.getValue() !== nextValue) this.setValue(nextValue);\n    }\n    /** React renderer **/\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = this.props,\n          _this$state = this.state,\n          pointerX = _this$state.pointerX,\n          pointerY = _this$state.pointerY;\n      var tool = this.getTool();\n      var value = this.getValue();\n      var CustomToolbar = props.customToolbar,\n          CustomMiniature = props.customMiniature;\n      var panningWithToolAuto = tool === TOOL_AUTO && value.mode === MODE_PANNING && value.startX !== value.endX && value.startY !== value.endY;\n      var cursor;\n      if (tool === TOOL_PAN) cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n      if (tool === TOOL_ZOOM_IN) cursor = cursorPolyfill('zoom-in');\n      if (tool === TOOL_ZOOM_OUT) cursor = cursorPolyfill('zoom-out');\n      if (panningWithToolAuto) cursor = cursorPolyfill('grabbing');\n      var blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n      blockChildEvents = blockChildEvents || panningWithToolAuto;\n      var touchAction = this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1 ? 'none' : undefined;\n      var style = {\n        display: 'block',\n        cursor: cursor,\n        touchAction: touchAction\n      };\n      return React.createElement(\"div\", {\n        style: _objectSpread({\n          position: \"relative\",\n          width: value.viewerWidth,\n          height: value.viewerHeight\n        }, props.style),\n        className: this.props.className\n      }, React.createElement(\"svg\", {\n        ref: function ref(ViewerDOM) {\n          return _this2.ViewerDOM = ViewerDOM;\n        },\n        width: value.viewerWidth,\n        height: value.viewerHeight,\n        style: style,\n        onMouseDown: function onMouseDown(event) {\n          var nextValue = _onMouseDown(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        },\n        onMouseMove: function onMouseMove(event) {\n          var _this2$ViewerDOM$getB = _this2.ViewerDOM.getBoundingClientRect(),\n              left = _this2$ViewerDOM$getB.left,\n              top = _this2$ViewerDOM$getB.top;\n\n          var x = event.clientX - Math.round(left);\n          var y = event.clientY - Math.round(top);\n\n          var nextValue = _onMouseMove(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props, {\n            x: x,\n            y: y\n          });\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.setState({\n            pointerX: x,\n            pointerY: y\n          });\n\n          _this2.handleViewerEvent(event);\n        },\n        onMouseUp: function onMouseUp(event) {\n          var nextValue = _onMouseUp(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        },\n        onClick: function onClick(event) {\n          _this2.handleViewerEvent(event);\n        },\n        onDoubleClick: function onDoubleClick(event) {\n          var nextValue = _onDoubleClick(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        },\n        onMouseEnter: function onMouseEnter(event) {\n          if (detectTouch()) return;\n          var nextValue = onMouseEnterOrLeave(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n        },\n        onMouseLeave: function onMouseLeave(event) {\n          var nextValue = onMouseEnterOrLeave(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n        },\n        onTouchStart: function onTouchStart(event) {\n          var nextValue = _onTouchStart(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        },\n        onTouchMove: function onTouchMove(event) {\n          var nextValue = _onTouchMove(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        },\n        onTouchEnd: function onTouchEnd(event) {\n          var nextValue = _onTouchEnd(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        },\n        onTouchCancel: function onTouchCancel(event) {\n          var nextValue = _onTouchCancel(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        }\n      }, React.createElement(\"rect\", {\n        fill: props.background,\n        x: 0,\n        y: 0,\n        width: value.viewerWidth,\n        height: value.viewerHeight,\n        style: {\n          pointerEvents: \"none\"\n        }\n      }), React.createElement(\"g\", {\n        transform: toSVG(value),\n        style: blockChildEvents ? {\n          pointerEvents: \"none\"\n        } : {}\n      }, React.createElement(\"rect\", {\n        fill: this.props.SVGBackground,\n        style: this.props.SVGStyle,\n        x: value.SVGMinX || 0,\n        y: value.SVGMinY || 0,\n        width: value.SVGWidth,\n        height: value.SVGHeight\n      }), React.createElement(\"g\", null, props.children.props.children)), !([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : React.createElement(\"g\", {\n        style: {\n          pointerEvents: \"none\"\n        }\n      }, !(pointerY <= 20) ? null : React.createElement(BorderGradient, {\n        direction: POSITION_TOP,\n        width: value.viewerWidth,\n        height: value.viewerHeight\n      }), !(value.viewerWidth - pointerX <= 20) ? null : React.createElement(BorderGradient, {\n        direction: POSITION_RIGHT,\n        width: value.viewerWidth,\n        height: value.viewerHeight\n      }), !(value.viewerHeight - pointerY <= 20) ? null : React.createElement(BorderGradient, {\n        direction: POSITION_BOTTOM,\n        width: value.viewerWidth,\n        height: value.viewerHeight\n      }), !(value.focus && pointerX <= 20) ? null : React.createElement(BorderGradient, {\n        direction: POSITION_LEFT,\n        width: value.viewerWidth,\n        height: value.viewerHeight\n      })), !(value.mode === MODE_ZOOMING) ? null : React.createElement(Selection, {\n        startX: value.startX,\n        startY: value.startY,\n        endX: value.endX,\n        endY: value.endY\n      })), props.toolbarProps.position === POSITION_NONE ? null : React.createElement(CustomToolbar, _extends({}, this.props.toolbarProps, {\n        value: value,\n        onChangeValue: function onChangeValue(value) {\n          return _this2.setValue(value);\n        },\n        tool: tool,\n        onChangeTool: function onChangeTool(tool) {\n          return _this2.props.onChangeTool(tool);\n        }\n      })), props.miniatureProps.position === POSITION_NONE ? null : React.createElement(CustomMiniature, _extends({}, this.props.miniatureProps, {\n        value: value,\n        onChangeValue: function onChangeValue(value) {\n          return _this2.setValue(value);\n        },\n        SVGBackground: this.props.SVGBackground\n      }), props.children.props.children));\n    }\n  }]);\n\n  return ReactSVGPanZoom;\n}(React.Component);\n\nexport { ReactSVGPanZoom as default };\nReactSVGPanZoom.propTypes = {\n  /**************************************************************************/\n\n  /*  Viewer configuration                                                  */\n\n  /**************************************************************************/\n  //width of the viewer displayed on screen\n  width: PropTypes.number.isRequired,\n  //height of the viewer displayed on screen\n  height: PropTypes.number.isRequired,\n  //value of the viewer (current camera view)\n  value: PropTypes.oneOfType([PropTypes.object, PropTypes.shape({\n    version: PropTypes.oneOf([2]).isRequired,\n    mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n    focus: PropTypes.bool.isRequired,\n    a: PropTypes.number.isRequired,\n    b: PropTypes.number.isRequired,\n    c: PropTypes.number.isRequired,\n    d: PropTypes.number.isRequired,\n    e: PropTypes.number.isRequired,\n    f: PropTypes.number.isRequired,\n    viewerWidth: PropTypes.number.isRequired,\n    viewerHeight: PropTypes.number.isRequired,\n    SVGMinX: PropTypes.number.isRequired,\n    SVGMinY: PropTypes.number.isRequired,\n    SVGWidth: PropTypes.number.isRequired,\n    SVGHeight: PropTypes.number.isRequired,\n    startX: PropTypes.number,\n    startY: PropTypes.number,\n    endX: PropTypes.number,\n    endY: PropTypes.number,\n    miniatureOpen: PropTypes.bool.isRequired\n  })]).isRequired,\n  //handler something changed\n  onChangeValue: PropTypes.func.isRequired,\n  //current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]).isRequired,\n  //handler tool changed\n  onChangeTool: PropTypes.func.isRequired,\n\n  /**************************************************************************/\n\n  /* Customize style                                                        */\n\n  /**************************************************************************/\n  //background of the viewer\n  background: PropTypes.string,\n  //background of the svg\n  SVGBackground: PropTypes.string,\n  //style of the svg\n  SVGStyle: PropTypes.object,\n  //CSS style of the Viewer\n  style: PropTypes.object,\n  //className of the Viewer\n  className: PropTypes.string,\n\n  /**************************************************************************/\n\n  /* Detect events                                                          */\n\n  /**************************************************************************/\n  //perform zoom operation on mouse scroll\n  detectWheel: PropTypes.bool,\n  //perform PAN if the mouse is on viewer border\n  detectAutoPan: PropTypes.bool,\n  //perform zoom operation on pinch gesture\n  detectPinchGesture: PropTypes.bool,\n  //toolbar position\n  toolbarPosition: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n  //handler zoom level changed\n  onZoom: PropTypes.func,\n  //handler pan action performed\n  onPan: PropTypes.func,\n  //handler click\n  onClick: PropTypes.func,\n  //handler double click\n  onDoubleClick: PropTypes.func,\n  //handler mouseup\n  onMouseUp: PropTypes.func,\n  //handler mousemove\n  onMouseMove: PropTypes.func,\n  //handler mousedown\n  onMouseDown: PropTypes.func,\n\n  /**************************************************************************/\n\n  /* Some advanced configurations                                           */\n\n  /**************************************************************************/\n  //if disabled the user can move the image outside the viewer\n  preventPanOutside: PropTypes.bool,\n  //how much scale in or out\n  scaleFactor: PropTypes.number,\n  //how much scale in or out on mouse wheel (requires detectWheel enabled)\n  scaleFactorOnWheel: PropTypes.number,\n  // maximum amount of scale a user can zoom in to\n  scaleFactorMax: PropTypes.number,\n  // minimum amount of a scale a user can zoom out of\n  scaleFactorMin: PropTypes.number,\n  //modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  modifierKeys: PropTypes.array,\n  //Turn off zoom on double click\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  /**************************************************************************/\n\n  /* Miniature configurations                                                 */\n\n  /**************************************************************************/\n  //override miniature component\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n  //miniature props\n  miniatureProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n    background: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number\n  }),\n\n  /**************************************************************************/\n\n  /* Toolbar configurations                                                 */\n\n  /**************************************************************************/\n  //override toolbar component\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n  //toolbar props\n  toolbarProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n    activeToolColor: PropTypes.string\n  }),\n\n  /**************************************************************************/\n\n  /* Children Check                                                         */\n\n  /**************************************************************************/\n  //accept only one node SVG\n  children: function children(props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    var prop = props[propName];\n    var types = ['svg'];\n\n    if (React.Children.count(prop) !== 1 || types.indexOf(prop.type) === -1) {\n      return new Error('`' + componentName + '` ' + 'should have a single child of the following types: ' + ' `' + types.join('`, `') + '`.');\n    }\n\n    if ((!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) && !prop.props.hasOwnProperty('viewBox')) {\n      return new Error('SVG should have props `width` and `height` or `viewBox`');\n    }\n  }\n};\nReactSVGPanZoom.defaultProps = {\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  customToolbar: Toolbar,\n  toolbarProps: {},\n  customMiniature: Miniature,\n  miniatureProps: {}\n};","map":{"version":3,"sources":["C:/Users/AMJADE/Rabea/new-app/node_modules/react-svg-pan-zoom/build-es/viewer.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","configurable","writable","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","toString","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","Array","isArray","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","React","PropTypes","toSVG","eventFactory","pan","_pan","getDefaultValue","isValueValid","reset","_reset","setPointOnViewerCenter","_setPointOnViewerCenter","setSVGViewBox","setViewerSize","setZoomLevels","onDoubleClick","_onDoubleClick","onInterval","onMouseDown","_onMouseDown","onMouseEnterOrLeave","onMouseMove","_onMouseMove","onMouseUp","_onMouseUp","onWheel","_onWheel","parseViewBox","onTouchCancel","_onTouchCancel","onTouchEnd","_onTouchEnd","onTouchMove","_onTouchMove","onTouchStart","_onTouchStart","fitSelection","_fitSelection","fitToViewer","_fitToViewer","zoom","_zoom","zoomOnViewerCenter","_zoomOnViewerCenter","closeMiniature","_closeMiniature","openMiniature","_openMiniature","cursorPolyfill","BorderGradient","Selection","Toolbar","detectTouch","Miniature","ACTION_PAN","ACTION_ZOOM","ALIGN_BOTTOM","ALIGN_CENTER","ALIGN_LEFT","ALIGN_RIGHT","ALIGN_TOP","MODE_IDLE","MODE_PANNING","MODE_ZOOMING","POSITION_BOTTOM","POSITION_LEFT","POSITION_NONE","POSITION_RIGHT","POSITION_TOP","TOOL_AUTO","TOOL_NONE","TOOL_PAN","TOOL_ZOOM_IN","TOOL_ZOOM_OUT","printMigrationTipsRelatedToProps","ReactSVGPanZoom","_React$Component","context","_this","viewerWidth","width","viewerHeight","height","scaleFactorMin","scaleFactorMax","children","SVGViewBox","viewBox","defaultValue","_parseViewBox","_parseViewBox2","SVGMinX","SVGMinY","SVGWidth","SVGHeight","_children$props","_SVGWidth","_SVGHeight","ViewerDOM","state","pointerX","pointerY","autoPanLoop","bind","process","env","NODE_ENV","componentDidUpdate","prevProps","getValue","nextValue","needUpdate","_parseViewBox3","_parseViewBox4","x","y","_props$children$props","setValue","componentDidMount","autoPanIsRunning","requestAnimationFrame","addEventListener","componentWillUnmount","removeEventListener","getTool","tool","_this$props","onChangeValue","onZoom","onPan","lastAction","SVGDeltaX","SVGDeltaY","SVGPointX","SVGPointY","scaleFactor","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","SVGAlignX","SVGAlignY","zoomLevel","handleViewerEvent","event","indexOf","eventsHandler","click","onClick","dblclick","mousemove","mouseup","mousedown","touchstart","touchmove","touchend","touchcancel","onEventHandler","type","coords","render","_this2","_this$state","CustomToolbar","customToolbar","CustomMiniature","customMiniature","panningWithToolAuto","mode","startX","endX","startY","endY","cursor","blockChildEvents","touchAction","detectPinchGesture","style","display","createElement","position","className","ref","_this2$ViewerDOM$getB","getBoundingClientRect","left","top","clientX","Math","round","clientY","setState","onMouseEnter","onMouseLeave","fill","background","pointerEvents","transform","SVGBackground","SVGStyle","detectAutoPan","focus","direction","toolbarProps","onChangeTool","miniatureProps","Component","default","propTypes","number","isRequired","oneOfType","shape","version","oneOf","bool","a","b","c","d","e","f","miniatureOpen","func","string","detectWheel","toolbarPosition","preventPanOutside","scaleFactorOnWheel","modifierKeys","array","disableDoubleClickZoomWithToolAuto","element","activeToolColor","propName","componentName","prop","types","Children","count","Error","join","defaultProps","disableZoomWithToolAuto"],"mappings":"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","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { toSVG } from 'transformation-matrix'; //events\n\nimport eventFactory from './events/event-factory'; //features\n\nimport { pan as _pan } from './features/pan';\nimport { getDefaultValue, isValueValid, reset as _reset, setPointOnViewerCenter as _setPointOnViewerCenter, setSVGViewBox, setViewerSize, setZoomLevels } from './features/common';\nimport { onDoubleClick as _onDoubleClick, onInterval, onMouseDown as _onMouseDown, onMouseEnterOrLeave, onMouseMove as _onMouseMove, onMouseUp as _onMouseUp, onWheel as _onWheel } from './features/interactions';\nimport parseViewBox from './utils/parseViewBox';\nimport { onTouchCancel as _onTouchCancel, onTouchEnd as _onTouchEnd, onTouchMove as _onTouchMove, onTouchStart as _onTouchStart } from './features/interactions-touch';\nimport { fitSelection as _fitSelection, fitToViewer as _fitToViewer, zoom as _zoom, zoomOnViewerCenter as _zoomOnViewerCenter } from './features/zoom';\nimport { closeMiniature as _closeMiniature, openMiniature as _openMiniature } from './features/miniature'; //ui\n\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature';\nimport { ACTION_PAN, ACTION_ZOOM, ALIGN_BOTTOM, ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, MODE_IDLE, MODE_PANNING, MODE_ZOOMING, POSITION_BOTTOM, POSITION_LEFT, POSITION_NONE, POSITION_RIGHT, POSITION_TOP, TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT } from './constants';\nimport { printMigrationTipsRelatedToProps } from \"./migration-tips\";\n\nvar ReactSVGPanZoom =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ReactSVGPanZoom, _React$Component);\n\n  function ReactSVGPanZoom(props, context) {\n    var _this;\n\n    _classCallCheck(this, ReactSVGPanZoom);\n\n    var viewerWidth = props.width,\n        viewerHeight = props.height,\n        scaleFactorMin = props.scaleFactorMin,\n        scaleFactorMax = props.scaleFactorMax,\n        children = props.children;\n    var SVGViewBox = children.props.viewBox;\n    var defaultValue;\n\n    if (SVGViewBox) {\n      var _parseViewBox = parseViewBox(SVGViewBox),\n          _parseViewBox2 = _slicedToArray(_parseViewBox, 4),\n          SVGMinX = _parseViewBox2[0],\n          SVGMinY = _parseViewBox2[1],\n          SVGWidth = _parseViewBox2[2],\n          SVGHeight = _parseViewBox2[3];\n\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax);\n    } else {\n      var _children$props = children.props,\n          _SVGWidth = _children$props.width,\n          _SVGHeight = _children$props.height;\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, 0, 0, _SVGWidth, _SVGHeight, scaleFactorMin, scaleFactorMax);\n    }\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactSVGPanZoom).call(this, props, context));\n    _this.ViewerDOM = null;\n    _this.state = {\n      pointerX: null,\n      pointerY: null,\n      defaultValue: defaultValue\n    };\n    _this.autoPanLoop = _this.autoPanLoop.bind(_assertThisInitialized(_this));\n    _this.onWheel = _this.onWheel.bind(_assertThisInitialized(_this));\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props);\n    }\n\n    return _this;\n  }\n  /** React hooks **/\n\n\n  _createClass(ReactSVGPanZoom, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var value = this.getValue();\n      var props = this.props;\n      var nextValue = value;\n      var needUpdate = false;\n\n      if (process.env.NODE_ENV !== 'production') {\n        printMigrationTipsRelatedToProps(props);\n      } // This block checks the size of the SVG\n\n\n      var SVGViewBox = props.children.props.viewBox;\n\n      if (SVGViewBox) {\n        // if the viewBox prop is specified\n        var _parseViewBox3 = parseViewBox(SVGViewBox),\n            _parseViewBox4 = _slicedToArray(_parseViewBox3, 4),\n            x = _parseViewBox4[0],\n            y = _parseViewBox4[1],\n            width = _parseViewBox4[2],\n            height = _parseViewBox4[3];\n\n        if (value.SVGMinX !== x || value.SVGMinY !== y || value.SVGWidth !== width || value.SVGHeight !== height) {\n          nextValue = setSVGViewBox(nextValue, x, y, width, height);\n          needUpdate = true;\n        }\n      } else {\n        // if the width and height props are specified\n        var _props$children$props = props.children.props,\n            SVGWidth = _props$children$props.width,\n            SVGHeight = _props$children$props.height;\n\n        if (value.SVGWidth !== SVGWidth || value.SVGHeight !== SVGHeight) {\n          nextValue = setSVGViewBox(nextValue, 0, 0, SVGWidth, SVGHeight);\n          needUpdate = true;\n        }\n      } // This block checks the size of the viewer\n\n\n      if (prevProps.width !== props.width || prevProps.height !== props.height) {\n        nextValue = setViewerSize(nextValue, props.width, props.height);\n        needUpdate = true;\n      } // This blocks checks the scale factors\n\n\n      if (prevProps.scaleFactorMin !== props.scaleFactorMin || prevProps.scaleFactorMax !== props.scaleFactorMax) {\n        nextValue = setZoomLevels(nextValue, props.scaleFactorMin, props.scaleFactorMax);\n        needUpdate = true;\n      }\n\n      if (needUpdate) {\n        this.setValue(nextValue);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.autoPanIsRunning = true;\n      requestAnimationFrame(this.autoPanLoop);\n      this.ViewerDOM.addEventListener('wheel', this.onWheel, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.autoPanIsRunning = false;\n      this.ViewerDOM.removeEventListener('wheel', this.onWheel);\n    }\n    /** ReactSVGPanZoom handlers **/\n\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      if (isValueValid(this.props.value)) return this.props.value;\n      return this.state.defaultValue;\n    }\n  }, {\n    key: \"getTool\",\n    value: function getTool() {\n      if (this.props.tool) return this.props.tool;\n      return TOOL_NONE;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(nextValue) {\n      var _this$props = this.props,\n          onChangeValue = _this$props.onChangeValue,\n          onZoom = _this$props.onZoom,\n          onPan = _this$props.onPan;\n      if (onChangeValue) onChangeValue(nextValue);\n\n      if (nextValue.lastAction) {\n        if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n        if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n      }\n    }\n    /** ReactSVGPanZoom methods **/\n\n  }, {\n    key: \"pan\",\n    value: function pan(SVGDeltaX, SVGDeltaY) {\n      var nextValue = _pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(SVGPointX, SVGPointY, scaleFactor) {\n      var nextValue = _zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"fitSelection\",\n    value: function fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n      var nextValue = _fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"fitToViewer\",\n    value: function fitToViewer() {\n      var SVGAlignX = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ALIGN_LEFT;\n      var SVGAlignY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ALIGN_TOP;\n\n      var nextValue = _fitToViewer(this.getValue(), SVGAlignX, SVGAlignY);\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"zoomOnViewerCenter\",\n    value: function zoomOnViewerCenter(scaleFactor) {\n      var nextValue = _zoomOnViewerCenter(this.getValue(), scaleFactor);\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"setPointOnViewerCenter\",\n    value: function setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n      var nextValue = _setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var nextValue = _reset(this.getValue());\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"openMiniature\",\n    value: function openMiniature() {\n      var nextValue = _openMiniature(this.getValue());\n\n      this.setValue(nextValue);\n    }\n  }, {\n    key: \"closeMiniature\",\n    value: function closeMiniature() {\n      var nextValue = _closeMiniature(this.getValue());\n\n      this.setValue(nextValue);\n    }\n    /** ReactSVGPanZoom internals **/\n\n  }, {\n    key: \"handleViewerEvent\",\n    value: function handleViewerEvent(event) {\n      var props = this.props,\n          ViewerDOM = this.ViewerDOM;\n      if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n      if (event.target === ViewerDOM) return;\n      var eventsHandler = {\n        click: props.onClick,\n        dblclick: props.onDoubleClick,\n        mousemove: props.onMouseMove,\n        mouseup: props.onMouseUp,\n        mousedown: props.onMouseDown,\n        touchstart: props.onTouchStart,\n        touchmove: props.onTouchMove,\n        touchend: props.onTouchEnd,\n        touchcancel: props.onTouchCancel\n      };\n      var onEventHandler = eventsHandler[event.type];\n      if (!onEventHandler) return;\n      onEventHandler(eventFactory(event, props.value, ViewerDOM));\n    }\n  }, {\n    key: \"autoPanLoop\",\n    value: function autoPanLoop() {\n      var coords = {\n        x: this.state.pointerX,\n        y: this.state.pointerY\n      };\n      var nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n\n      if (this.getValue() !== nextValue) {\n        this.setValue(nextValue);\n      }\n\n      if (this.autoPanIsRunning) {\n        requestAnimationFrame(this.autoPanLoop);\n      }\n    }\n  }, {\n    key: \"onWheel\",\n    value: function onWheel(event) {\n      var nextValue = _onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n\n      if (this.getValue() !== nextValue) this.setValue(nextValue);\n    }\n    /** React renderer **/\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = this.props,\n          _this$state = this.state,\n          pointerX = _this$state.pointerX,\n          pointerY = _this$state.pointerY;\n      var tool = this.getTool();\n      var value = this.getValue();\n      var CustomToolbar = props.customToolbar,\n          CustomMiniature = props.customMiniature;\n      var panningWithToolAuto = tool === TOOL_AUTO && value.mode === MODE_PANNING && value.startX !== value.endX && value.startY !== value.endY;\n      var cursor;\n      if (tool === TOOL_PAN) cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n      if (tool === TOOL_ZOOM_IN) cursor = cursorPolyfill('zoom-in');\n      if (tool === TOOL_ZOOM_OUT) cursor = cursorPolyfill('zoom-out');\n      if (panningWithToolAuto) cursor = cursorPolyfill('grabbing');\n      var blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n      blockChildEvents = blockChildEvents || panningWithToolAuto;\n      var touchAction = this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1 ? 'none' : undefined;\n      var style = {\n        display: 'block',\n        cursor: cursor,\n        touchAction: touchAction\n      };\n      return React.createElement(\"div\", {\n        style: _objectSpread({\n          position: \"relative\",\n          width: value.viewerWidth,\n          height: value.viewerHeight\n        }, props.style),\n        className: this.props.className\n      }, React.createElement(\"svg\", {\n        ref: function ref(ViewerDOM) {\n          return _this2.ViewerDOM = ViewerDOM;\n        },\n        width: value.viewerWidth,\n        height: value.viewerHeight,\n        style: style,\n        onMouseDown: function onMouseDown(event) {\n          var nextValue = _onMouseDown(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        },\n        onMouseMove: function onMouseMove(event) {\n          var _this2$ViewerDOM$getB = _this2.ViewerDOM.getBoundingClientRect(),\n              left = _this2$ViewerDOM$getB.left,\n              top = _this2$ViewerDOM$getB.top;\n\n          var x = event.clientX - Math.round(left);\n          var y = event.clientY - Math.round(top);\n\n          var nextValue = _onMouseMove(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props, {\n            x: x,\n            y: y\n          });\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.setState({\n            pointerX: x,\n            pointerY: y\n          });\n\n          _this2.handleViewerEvent(event);\n        },\n        onMouseUp: function onMouseUp(event) {\n          var nextValue = _onMouseUp(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        },\n        onClick: function onClick(event) {\n          _this2.handleViewerEvent(event);\n        },\n        onDoubleClick: function onDoubleClick(event) {\n          var nextValue = _onDoubleClick(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        },\n        onMouseEnter: function onMouseEnter(event) {\n          if (detectTouch()) return;\n          var nextValue = onMouseEnterOrLeave(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n        },\n        onMouseLeave: function onMouseLeave(event) {\n          var nextValue = onMouseEnterOrLeave(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n        },\n        onTouchStart: function onTouchStart(event) {\n          var nextValue = _onTouchStart(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        },\n        onTouchMove: function onTouchMove(event) {\n          var nextValue = _onTouchMove(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        },\n        onTouchEnd: function onTouchEnd(event) {\n          var nextValue = _onTouchEnd(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        },\n        onTouchCancel: function onTouchCancel(event) {\n          var nextValue = _onTouchCancel(event, _this2.ViewerDOM, _this2.getTool(), _this2.getValue(), _this2.props);\n\n          if (_this2.getValue() !== nextValue) _this2.setValue(nextValue);\n\n          _this2.handleViewerEvent(event);\n        }\n      }, React.createElement(\"rect\", {\n        fill: props.background,\n        x: 0,\n        y: 0,\n        width: value.viewerWidth,\n        height: value.viewerHeight,\n        style: {\n          pointerEvents: \"none\"\n        }\n      }), React.createElement(\"g\", {\n        transform: toSVG(value),\n        style: blockChildEvents ? {\n          pointerEvents: \"none\"\n        } : {}\n      }, React.createElement(\"rect\", {\n        fill: this.props.SVGBackground,\n        style: this.props.SVGStyle,\n        x: value.SVGMinX || 0,\n        y: value.SVGMinY || 0,\n        width: value.SVGWidth,\n        height: value.SVGHeight\n      }), React.createElement(\"g\", null, props.children.props.children)), !([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : React.createElement(\"g\", {\n        style: {\n          pointerEvents: \"none\"\n        }\n      }, !(pointerY <= 20) ? null : React.createElement(BorderGradient, {\n        direction: POSITION_TOP,\n        width: value.viewerWidth,\n        height: value.viewerHeight\n      }), !(value.viewerWidth - pointerX <= 20) ? null : React.createElement(BorderGradient, {\n        direction: POSITION_RIGHT,\n        width: value.viewerWidth,\n        height: value.viewerHeight\n      }), !(value.viewerHeight - pointerY <= 20) ? null : React.createElement(BorderGradient, {\n        direction: POSITION_BOTTOM,\n        width: value.viewerWidth,\n        height: value.viewerHeight\n      }), !(value.focus && pointerX <= 20) ? null : React.createElement(BorderGradient, {\n        direction: POSITION_LEFT,\n        width: value.viewerWidth,\n        height: value.viewerHeight\n      })), !(value.mode === MODE_ZOOMING) ? null : React.createElement(Selection, {\n        startX: value.startX,\n        startY: value.startY,\n        endX: value.endX,\n        endY: value.endY\n      })), props.toolbarProps.position === POSITION_NONE ? null : React.createElement(CustomToolbar, _extends({}, this.props.toolbarProps, {\n        value: value,\n        onChangeValue: function onChangeValue(value) {\n          return _this2.setValue(value);\n        },\n        tool: tool,\n        onChangeTool: function onChangeTool(tool) {\n          return _this2.props.onChangeTool(tool);\n        }\n      })), props.miniatureProps.position === POSITION_NONE ? null : React.createElement(CustomMiniature, _extends({}, this.props.miniatureProps, {\n        value: value,\n        onChangeValue: function onChangeValue(value) {\n          return _this2.setValue(value);\n        },\n        SVGBackground: this.props.SVGBackground\n      }), props.children.props.children));\n    }\n  }]);\n\n  return ReactSVGPanZoom;\n}(React.Component);\n\nexport { ReactSVGPanZoom as default };\nReactSVGPanZoom.propTypes = {\n  /**************************************************************************/\n\n  /*  Viewer configuration                                                  */\n\n  /**************************************************************************/\n  //width of the viewer displayed on screen\n  width: PropTypes.number.isRequired,\n  //height of the viewer displayed on screen\n  height: PropTypes.number.isRequired,\n  //value of the viewer (current camera view)\n  value: PropTypes.oneOfType([PropTypes.object, PropTypes.shape({\n    version: PropTypes.oneOf([2]).isRequired,\n    mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n    focus: PropTypes.bool.isRequired,\n    a: PropTypes.number.isRequired,\n    b: PropTypes.number.isRequired,\n    c: PropTypes.number.isRequired,\n    d: PropTypes.number.isRequired,\n    e: PropTypes.number.isRequired,\n    f: PropTypes.number.isRequired,\n    viewerWidth: PropTypes.number.isRequired,\n    viewerHeight: PropTypes.number.isRequired,\n    SVGMinX: PropTypes.number.isRequired,\n    SVGMinY: PropTypes.number.isRequired,\n    SVGWidth: PropTypes.number.isRequired,\n    SVGHeight: PropTypes.number.isRequired,\n    startX: PropTypes.number,\n    startY: PropTypes.number,\n    endX: PropTypes.number,\n    endY: PropTypes.number,\n    miniatureOpen: PropTypes.bool.isRequired\n  })]).isRequired,\n  //handler something changed\n  onChangeValue: PropTypes.func.isRequired,\n  //current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]).isRequired,\n  //handler tool changed\n  onChangeTool: PropTypes.func.isRequired,\n\n  /**************************************************************************/\n\n  /* Customize style                                                        */\n\n  /**************************************************************************/\n  //background of the viewer\n  background: PropTypes.string,\n  //background of the svg\n  SVGBackground: PropTypes.string,\n  //style of the svg\n  SVGStyle: PropTypes.object,\n  //CSS style of the Viewer\n  style: PropTypes.object,\n  //className of the Viewer\n  className: PropTypes.string,\n\n  /**************************************************************************/\n\n  /* Detect events                                                          */\n\n  /**************************************************************************/\n  //perform zoom operation on mouse scroll\n  detectWheel: PropTypes.bool,\n  //perform PAN if the mouse is on viewer border\n  detectAutoPan: PropTypes.bool,\n  //perform zoom operation on pinch gesture\n  detectPinchGesture: PropTypes.bool,\n  //toolbar position\n  toolbarPosition: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n  //handler zoom level changed\n  onZoom: PropTypes.func,\n  //handler pan action performed\n  onPan: PropTypes.func,\n  //handler click\n  onClick: PropTypes.func,\n  //handler double click\n  onDoubleClick: PropTypes.func,\n  //handler mouseup\n  onMouseUp: PropTypes.func,\n  //handler mousemove\n  onMouseMove: PropTypes.func,\n  //handler mousedown\n  onMouseDown: PropTypes.func,\n\n  /**************************************************************************/\n\n  /* Some advanced configurations                                           */\n\n  /**************************************************************************/\n  //if disabled the user can move the image outside the viewer\n  preventPanOutside: PropTypes.bool,\n  //how much scale in or out\n  scaleFactor: PropTypes.number,\n  //how much scale in or out on mouse wheel (requires detectWheel enabled)\n  scaleFactorOnWheel: PropTypes.number,\n  // maximum amount of scale a user can zoom in to\n  scaleFactorMax: PropTypes.number,\n  // minimum amount of a scale a user can zoom out of\n  scaleFactorMin: PropTypes.number,\n  //modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  modifierKeys: PropTypes.array,\n  //Turn off zoom on double click\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  /**************************************************************************/\n\n  /* Miniature configurations                                                 */\n\n  /**************************************************************************/\n  //override miniature component\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n  //miniature props\n  miniatureProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n    background: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number\n  }),\n\n  /**************************************************************************/\n\n  /* Toolbar configurations                                                 */\n\n  /**************************************************************************/\n  //override toolbar component\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n  //toolbar props\n  toolbarProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n    activeToolColor: PropTypes.string\n  }),\n\n  /**************************************************************************/\n\n  /* Children Check                                                         */\n\n  /**************************************************************************/\n  //accept only one node SVG\n  children: function children(props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    var prop = props[propName];\n    var types = ['svg'];\n\n    if (React.Children.count(prop) !== 1 || types.indexOf(prop.type) === -1) {\n      return new Error('`' + componentName + '` ' + 'should have a single child of the following types: ' + ' `' + types.join('`, `') + '`.');\n    }\n\n    if ((!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) && !prop.props.hasOwnProperty('viewBox')) {\n      return new Error('SVG should have props `width` and `height` or `viewBox`');\n    }\n  }\n};\nReactSVGPanZoom.defaultProps = {\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  customToolbar: Toolbar,\n  toolbarProps: {},\n  customMiniature: Miniature,\n  miniatureProps: {}\n};"]},"metadata":{},"sourceType":"module"}