{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AMJADE\\\\Rabea\\\\new-app\\\\src\\\\Components\\\\Markers\\\\Marker.js\";\nimport React, { Component } from 'react';\nimport './Marker.css';\nimport { Avatar, Chip } from '@material-ui/core';\nexport default class extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleAnimation = (prevLeft, prevBottom, left, bottom) => {\n      const keyframesStyle = `\n    @-webkit-keyframes run-${this.props.id} {\n      0%   { left: ${prevLeft}; bottom: ${prevBottom}; }\n      100% { left: ${left}; bottom: ${bottom}; }\n    }`;\n      const styleElement = document.createElement('style');\n      let styleSheet = null;\n      document.head.appendChild(styleElement);\n      styleSheet = styleElement.sheet;\n      styleSheet.insertRule(keyframesStyle, styleSheet.cssRules.length);\n    };\n\n    this.showLabel = () => {\n      const {\n        opened\n      } = this.state;\n      this.setState({\n        opened: !opened\n      });\n    };\n\n    this.step = counter => {\n      if (this.marker) {\n        this.marker.style.transform = 'translate(' + counter + 'px, ' + counter + 'px)';\n      }\n    };\n\n    this.state = {\n      opened: false\n    };\n    this.timeout = '';\n    this.marker = React.createRef();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      // let counter = 0;\n      // this.timeout = setTimeout(() => {\n      //     counter ++;\n      //     this.step(counter);\n      //     if(counter > Math.abs(this.props.x - prevProps.x)) {\n      //         clearTimeout(this.timeout)\n      //     }\n      // }, 20)\n      this.handleAnimation(prevProps.x, prevProps.y, this.props.x, this.props.y);\n    }\n  }\n\n  render() {\n    const {\n      color,\n      name,\n      id,\n      x,\n      y\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        left: x,\n        bottom: y,\n        position: \"absolute\",\n        WebkitAnimation: `run-${this.props.id} 1s linear`\n      },\n      ref: ref => this.marker = ref,\n      id: id,\n      onClick: this.showLabel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, this.state.opened && /*#__PURE__*/React.createElement(Chip, {\n      avatar: /*#__PURE__*/React.createElement(Avatar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }\n      }, \"M\"),\n      variant: \"outlined\",\n      size: \"small\",\n      color: \"primary\",\n      label: id,\n      onClick: () => console.log('Hi'),\n      style: {\n        transform: 'translate(-55%, -26%)'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pin bounce\",\n      style: {\n        backgroundColor: color,\n        cursor: 'pointer'\n      },\n      title: name + ' ' + id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pulse\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/AMJADE/Rabea/new-app/src/Components/Markers/Marker.js"],"names":["React","Component","Avatar","Chip","constructor","props","handleAnimation","prevLeft","prevBottom","left","bottom","keyframesStyle","id","styleElement","document","createElement","styleSheet","head","appendChild","sheet","insertRule","cssRules","length","showLabel","opened","state","setState","step","counter","marker","style","transform","timeout","createRef","componentDidUpdate","prevProps","prevState","x","y","render","color","name","position","WebkitAnimation","ref","console","log","backgroundColor","cursor"],"mappings":"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","sourcesContent":["\nimport React, {Component} from 'react';\nimport './Marker.css';\nimport {Avatar,Chip} from '@material-ui/core';\n\n\nexport default class extends Component{\n  constructor(props){\n      super(props)\n      this.state={\n        opened: false,\n      }\n      this.timeout = '';\n      this.marker=React.createRef();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n        // let counter = 0;\n        // this.timeout = setTimeout(() => {\n        //     counter ++;\n        //     this.step(counter);\n        //     if(counter > Math.abs(this.props.x - prevProps.x)) {\n        //         clearTimeout(this.timeout)\n        //     }\n        // }, 20)\n        this.handleAnimation(prevProps.x, prevProps.y, this.props.x, this.props.y)\n    }\n  }â€©\n  handleAnimation = (prevLeft, prevBottom, left, bottom) => {\n    const keyframesStyle = `\n    @-webkit-keyframes run-${this.props.id} {\n      0%   { left: ${prevLeft}; bottom: ${prevBottom}; }\n      100% { left: ${left}; bottom: ${bottom}; }\n    }`;\n    const styleElement = document.createElement('style');\n    let styleSheet = null;\n\n    document.head.appendChild(styleElement);\n\n    styleSheet = styleElement.sheet;\n\n    styleSheet.insertRule(keyframesStyle, styleSheet.cssRules.length);\n}\n  showLabel=()=>{\n    const { opened } = this.state;\n\t\tthis.setState({\n\t\t\topened: !opened,\n\t\t});\n  }\n  step = (counter) => {\n    if(this.marker) {\n        this.marker.style.transform = 'translate(' + counter + 'px, ' + counter + 'px)';\n    }\n\n};\n\n  render(){\n    const { color, name, id, x, y} = this.props;\n    return (\n      <div style={{left:x , bottom:y, position:\"absolute\", WebkitAnimation: `run-${this.props.id} 1s linear`}} ref={ref => this.marker = ref} id={id} onClick={this.showLabel}>\n        {this.state.opened && <Chip\n            avatar={<Avatar>M</Avatar>}\n            variant=\"outlined\"\n            size=\"small\"\n            color='primary'\n            label={id}\n            onClick={()=>console.log('Hi') }\n            style={{ transform: 'translate(-55%, -26%)'}}\n          />}\n        <div\n          className=\"pin bounce\"\n          style={{ backgroundColor: color, cursor: 'pointer'}}\n          title={name + ' '+id}\n          />\n        <div className=\"pulse\" />\n        {/* <span style={{fontSize:8}}>{id}</span> */}\n\n      </div>\n    )\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}