{"ast":null,"code":"var _jsxFileName = \"/Users/rabea/Desktop/Git/location_visualizer/src/Components/Markers/Marker.js\";\nimport React, { Component } from 'react';\nimport './Marker.css';\nimport { Avatar, Chip } from '@material-ui/core';\nexport default class extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleAnimation = (prevLeft, prevBottom, left, bottom) => {\n      const keyframesStyle = `\n        @-webkit-keyframes run-${this.props.id} {\n          0%   { left: ${prevLeft}; bottom: ${prevBottom}; }\n          100% { left: ${left}; bottom: ${bottom}; }\n        }`;\n      const styleElement = document.createElement('style');\n      document.head.appendChild(styleElement);\n      const styleSheet = styleElement.sheet;\n      styleSheet.insertRule(keyframesStyle, styleSheet.cssRules.length);\n    };\n\n    this.showLabel = () => {\n      const {\n        opened\n      } = this.state;\n      this.setState({\n        opened: !opened\n      });\n    };\n\n    this.checkDistance = receiver => {\n      const roomElement = document.querySelector(`[data-name*=\"${receiver}\"]`);\n\n      if (roomElement) {\n        setInterval(function () {\n          roomElement.classList.toggle(\"backgroundRed\");\n        }, 1500);\n      }\n    };\n\n    this.state = {\n      opened: false\n    };\n    this.timeout = '';\n    this.marker = React.createRef();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n      this.handleAnimation(prevProps.x, prevProps.y, this.props.x, this.props.y);\n    }\n  }\n\n  render() {\n    const {\n      color,\n      name,\n      id,\n      x,\n      y,\n      receiver_desc,\n      receiver_id,\n      badge_type_desc\n    } = this.props;\n    this.checkDistance(receiver_id);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        left: x,\n        top: y,\n        position: \"absolute\",\n        WebkitAnimation: `run-${this.props.id} 0.7s linear`\n      },\n      ref: ref => this.marker = ref,\n      id: id,\n      onClick: this.showLabel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, this.state.opened && /*#__PURE__*/React.createElement(Chip, {\n      avatar: /*#__PURE__*/React.createElement(Avatar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }\n      }, \"M\"),\n      variant: \"outlined\",\n      size: \"small\",\n      color: \"primary\",\n      label: id,\n      onClick: () => console.log('Hi') // style={{ transform: 'translate(-55%, -26%)'}}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 39\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pin bounce\",\n      style: {\n        backgroundColor: color,\n        cursor: 'pointer'\n      },\n      title: receiver_desc + ' ' + id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pulse\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/rabea/Desktop/Git/location_visualizer/src/Components/Markers/Marker.js"],"names":["React","Component","Avatar","Chip","constructor","props","handleAnimation","prevLeft","prevBottom","left","bottom","keyframesStyle","id","styleElement","document","createElement","head","appendChild","styleSheet","sheet","insertRule","cssRules","length","showLabel","opened","state","setState","checkDistance","receiver","roomElement","querySelector","setInterval","classList","toggle","timeout","marker","createRef","componentDidUpdate","prevProps","x","y","render","color","name","receiver_desc","receiver_id","badge_type_desc","top","position","WebkitAnimation","ref","console","log","backgroundColor","cursor"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './Marker.css';\nimport {Avatar,Chip} from '@material-ui/core';\n\n\nexport default class extends Component{\n    constructor(props){\n        super(props);\n        this.state={\n            opened: false,\n        }\n        this.timeout = '';\n        this.marker=React.createRef();\n    }\n    componentDidUpdate(prevProps) {\n        if (this.props.x !== prevProps.x || this.props.y !== prevProps.y) {\n\n            this.handleAnimation(prevProps.x, prevProps.y, this.props.x, this.props.y)\n\n        }\n    }â€©\n    handleAnimation = (prevLeft, prevBottom, left, bottom) => {\n        const keyframesStyle = `\n        @-webkit-keyframes run-${this.props.id} {\n          0%   { left: ${prevLeft}; bottom: ${prevBottom}; }\n          100% { left: ${left}; bottom: ${bottom}; }\n        }`;\n        const styleElement = document.createElement('style');\n        document.head.appendChild(styleElement);\n        const styleSheet = styleElement.sheet;\n        styleSheet.insertRule(keyframesStyle, styleSheet.cssRules.length);\n    };\n\n    showLabel=()=>{\n        const { opened } = this.state;\n        this.setState({\n            opened: !opened,\n        });\n    }\n    checkDistance = (receiver) => {\n        const roomElement = document.querySelector(`[data-name*=\"${receiver}\"]`);\n\n        if (roomElement) {\n            setInterval(function(){roomElement.classList.toggle(\"backgroundRed\")},1500);\n        }\n    };\n    render(){\n        const { color, name, id, x, y, receiver_desc,receiver_id, badge_type_desc } = this.props;\n        this.checkDistance(receiver_id)\n        return (\n            <div style={{left: x , top: y, position:\"absolute\", WebkitAnimation: `run-${this.props.id} 0.7s linear`}} ref={ref => this.marker = ref} id={id} onClick={this.showLabel}>\n                {this.state.opened && <Chip\n                    avatar={<Avatar>M</Avatar>}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    color='primary'\n                    label={id}\n                    onClick={()=>console.log('Hi') }\n                    // style={{ transform: 'translate(-55%, -26%)'}}\n                  />}\n                <div\n                  className=\"pin bounce\"\n                  style={{ backgroundColor: color, cursor: 'pointer'}}\n                  title={receiver_desc + ' '+id}\n                  />\n                <div className=\"pulse\" />\n            </div>)\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}